<html style="overflow-y: hidden;">
<head>
    <style>
        body {
            display: none;
        }
        #content {
            position: absolute;
            border-radius: 5px;
            background-color: #011b37;
            width: 75%;
            height: 80%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
		#ipad {
			position: absolute;
			width: 106.94%;
			height: 109%;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
        #badge {
            position: fixed;
            display: inline-block;
            left: 3%;
            top: 2%;
            max-width: 175px;
            height: auto;
            background-color: #011b37;
        }
        #main {
            position: relative;
            text-align: center;
            top: 10%;
            width: 80%;
            margin: auto;
        }
        #banner {
            position: fixed;
            display: inline-block;
            bottom: 10%;
            right: 1%;
            max-width: 300px;
            height: auto;
            opacity: 0.3;
        }
        #mugshot {
            display: inline-block;
            max-width: 215px;
            height: auto;
            border: 2px solid #04bbec;
            user-select: none;
        }
        .report-input {
            font-family: "Courier New";
            border-width:0px;
            border:none;
            color: #ffffff;
            font-size: 12pt;
            padding: 0px 0px 0px 0px;
            width: 550px;
            margin-right: 10px;
            text-overflow: ellipsis;
            text-align: left;
            font-weight: bolder;
        }
        .page-title {
            margin-bottom: 30px;
        }
        .line {
            position: fixed;
            width: 100%;
            height: 1.5%;
            background-color: #04bbec;
        }
        .nav-active {
            text-decoration: underline;
            text-decoration-color: #04bbec;
        }
        .noselect {
            user-select: none;
        }
        .left-side {
            float: left;
            max-width: 50%;
            max-height: 550px;
            overflow-y: auto;
            height: auto;
            text-align: left;
            user-select: none;
        }
        .right-side {
            position: absolute;
            left: 65%;
            right: 10%;
            width: 35%;
            max-width: 300%;
            max-height: 550px;
            overflow-y: auto;
            height: auto;
            text-align: left;
            user-select: none;
        }
        .modal {
            z-index: 3;
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.7)
        }
        .modal-content {
            margin: auto;
            background-color: #011b37;
            position: relative;
            padding: 20px 20px;
            outline: 2px solid #04bbec;
            top: 40%;
            width: 30%;
        }
        br {
            user-select: none;
        }
        h2, h3 {
            font-family: "Arial Black";
            user-select: none;
            color: #04bbec;
            margin: 1px 1px 1px 1px;
        }
        h4 {
            font-family: "Courier";
            font-weight: bolder;
            font-size: 14px;
            user-select: none;
            color: #909090;
            margin: 1px 1px 1px 1px;
        }
        p {
            font-family: "Courier";
            color: white;
        }
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        li {
            font-family: "Courier";
            font-weight: bolder;
            color: white;
            float: left;
            padding-left: 16px;
            padding-right: 16px;
            border-right: 2px solid #04bbec;
        }
        li:last-child {
            border-right: none;
        }
        button {
            background-color: #04bbec;
            color: #011b37;
            font-family: "Arial";
            font-weight: bolder;
            border: 4px solid #04bbec;
            font-size: 12pt;
            text-align: center;
            padding: 4px 3px;
        }
        input {
            background-color: #011b37;
            font-family: "Courier New";
            border: 2px solid #04bbec;
            color: #ffffff;
            font-size: 12pt;
            padding: 7px 15px 5px 15px;
            margin-right: 10px;
            text-overflow: ellipsis;
            text-align: left;
        }
        textarea {
            background-color: #011b37;
            white-space: pre-line;
            white-space: pre-wrap;
            font-family: "Courier New";
            font-weight: bolder;
            font-size: 14px;
            border-width:0px;
            border:none;
            color: #ffffff;
            font-size: 12pt;
            padding: 0px 0px 0px 0px;
            width: 550px;
            margin-right: 10px;
            text-overflow: ellipsis;
            text-align: left;
            outline: none;
        }
        th {
            font-family: "Courier New";
            font-weight: bolder;
            font-size: 14px;
            color: white;
            padding: 5px 10px;
            text-align: center;
            border-bottom: 3px solid #04bbec;
        }
        td {
            font-family: "Courier New";
            font-size: 14px;
            color: #00a2d6;
            padding: 10px;
            text-align: center;
            border-top: 1px solid #04bbec;
        }
        table {
            border-collapse: collapse;
            column-gap: 3px solid #04bbec;
        }
        table td + td { 
            border-left: 2px solid #04bbec; 
        }
        table th + th { 
            border-left: 2px solid #04bbec; 
        }
        input:focus {
            outline: none;
        }
        button:focus {
            outline: none;
        }
        button:hover {
            background-color: #00a2d6;
            border-color: #00a2d6;
        }
        ::-webkit-scrollbar {
            width: 5px;
        }
        ::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px grey; 
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb {
            background: #04bbec; 
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="content">
        <div class="line" style="top: 10%;"></div>
		<img src="ipad.png" id="ipad">
        <img src="badge.png" id="badge" class="noselect">
        <img src="footer.png" id="banner" class="noselect">
        
        <p class="noselect" style="font-family: 'Courier New'; font-style: Normal; font-size: 19pt; text-align: center;"><b>[SIIR] Sistema Integrado de Informação de WorldTuga</b> </p>
        <p class="noselect" style="position: fixed; left: 17%; top: 5.5%">Bem-Vindo, {{ officer.name }}</p>
        <button type="button" class="noselect" v-on:click="closeMDT()" style="position: fixed; right: 10%; top: 5.5%">LOGOUT</button>

        <div style="position: fixed; left: 16%; top: 12.5%;">
            <ul>
                <li v-on:click="changePage('Home')" id="home" class="noselect">Home</li>
                <li v-on:click="changePage('Search Offenders')" id="search-offenders" class="noselect">Procurar Pessoas</li>
                <li v-on:click="changePage('Search Vehicles')" id="search-vehicles" class="noselect">Procurar Veículos</li>
                <li v-on:click="changePage('Submit Report')" id="submit-report" class="noselect">Criar Relatórios</li>
                <li v-on:click="changePage('Warrants')" id="warrants" class="noselect">Mandados</li>
                <li v-on:click="changePage('Search Reports')" id="search-reports" class="noselect">Procurar Relatórios</li>
            </ul>
        </div>

        <main id="main" style="height: 550px;">
            <div v-if="page == 'Home'">

                <h2 class="page-title">HOME</h3>
    
                <div class="left-side" style="width: 400px; position: absolute; float: unset;">
                    <h3>RELATÓRIOS RECENTES</h3>
                    <br />
                    <span v-if="homepage.reports" v-for="result in homepage.reports">
                        <h4 style="font-size: 12px; margin-bottom: 3px;"> {{ result.date }} - ID: {{ result.id }} </h4>
                        <button type="button" class="noselect" v-on:click="report_selected = result; changePage('Search Reports');" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.title }} </button>
                        <br />
                    </span>
                </div>

                <div class="left-side" style="width: 400px; position: absolute; top: 55%;">
                    <h3>BUSCAS DE PESSOAS RECENTES</h3>
                    <br />
                    <h4 v-if="recent_searches.person.length == 0"> ... </h4>
                    <span v-else-if="recent_searches.person.length > 0" v-for="person in recent_searches.person">
                        <button type="button" class="noselect" v-on:click="OpenOffenderDetailsById(person.id);" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ person.firstname }}  {{person.lastname}} </button>
                        <br />
                    </span>
                </div>

                <div class="right-side" style="width: 400px; position: absolute; float: unset;">
                    <h3>MANDADOS RECENTES</h3>
                    <br />
                    <h4 v-if="homepage.warrants == false"> ... </h4>
                    <span v-else-if="homepage.warrants != false" v-for="warrant in homepage.warrants">
                        <h4 style="font-size: 12px; margin-bottom: 3px;"> {{ warrant.date }} - ID: {{ warrant.id }} </h4>
                        <button type="button" class="noselect" v-on:click="warrant_selected = warrant; changePage('Warrant Details');" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ warrant.name }} </button>
                        <br />
                    </span>
                </div>

                <div class="right-side" style="width: 400px; position: absolute; top: 55%;">
                    <h3>BUSCAS DE VEÍCULOS RECENTES</h3>
                    <br />
                    <h4 v-if="recent_searches.vehicle.length == 0"> ... </h4>
                    <span v-else-if="recent_searches.vehicle.length > 0" v-for="vehicle in recent_searches.vehicle">
                        <button type="button" class="noselect" v-on:click="OpenVehicleDetails(vehicle);" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ vehicle.plate }} </button>
                        <br />
                    </span>
                </div>
            </div>

            <div v-if="page == 'Search Reports'">

                <h2 class="page-title">PROCURAR BASE DE DADOS</h2>

                <form class="noselect">
                    <input v-model="report_search" type="text" class="noselect" placeholder="Nome ou ID da Ocorrência" required>
                    <button v-on:click="ReportSearch()" type="button" class="noselect" >PROCURAR</button>
                </form>
                
                <br />

                <div class="left-side" style="max-height: 450px; width: 500px;">
                    <h3>DATA</h3>
                    <h4 v-if="report_selected.date"> {{ report_selected.date }} </h4>
                    <h4 v-else-if="report_selected.date == null"> ... </h4>
                    <h3>NOME</h3>
                    <h5 v-if="report_selected.name" v-on:click="OpenOffenderDetailsById(report_selected.char_id);"> {{ report_selected.name }} </h4>
                    <h4 v-else-if="report_selected.name == null"> ... </h4>
                    <h3>OCORRÊNCIA #{{ report_selected.id}}</h3>
                    <h4 v-if="report_selected.title"> {{ report_selected.title }} </h4>
                    <h4 v-else-if="report_selected.title == null"> ... </h4>
                    <h3>ACUSAÇÕES</h3>
                    <h4 v-if="report_selected.charges == null"> ... </h4>
                    <span v-for="(amount, offense in report_selected.charges" :key="offense">
                        <h4>
                            {{ offense }} (x{{ amount }})
                        </h4>
                    </span>
                    <h4 v-if="report_selected.jailtime">Sentença: {{ report_selected.jailtime }} ano(s)</h4>
                    <h3>AGENTE RESPONSÁVEL</h3>
                    <h4 v-if="report_selected.author"> {{ report_selected.author }} </h4>
                    <h4 v-else-if="report_selected.author == null"> ... </h4>
                    <br />
                    <button v-if="report_selected.date" type="button" v-on:click="changePage('Report Details')" id="report-details" class="noselect">VER OCORRÊNCIA</button>
                    <button v-if="report_selected.date" type="button" v-on:click="changePage('Submit Report'); report_new.charges = report_selected.charges; report_new.title = report_selected.title; report_new.incident = report_selected.incident;" id="report-details" class="noselect">COPIAR OCORRÊNCIA</button>
                    <button v-if="report_selected.date" type="button" v-on:click="changePage('Submit Warrant'); warrant_new.report_id = report_selected.id; warrant_new.char_id = report_selected.char_id; warrant_new.report_title = report_selected.title; warrant_new.name = report_selected.name; warrant_new.charges = report_selected.charges;" class="noselect">NOVO MANDADO</button>
                    <button type="button" style="margin-top: 5px;" v-on:click="changePage('Submit Report')" class="noselect">NOVA OCORRÊNCIA</button>
                </div>

                <div class="right-side" style="max-height: 435px;">
                    <div v-if="report_results.results">
                        <h3>PROCURAR RESULTADOS</h3>
                        <h4 style="margin: 10px 1px 30px 1px;">A procurar resultados de: '{{ report_results.query }}'...</h4>
                        <span v-if="report_results.results" v-for="result in report_results.results">
                            <h4 style="font-size: 12px; margin-bottom: 3px;"> {{ result.date }} - ID: {{ result.id }} </h4>
                            <button type="button" class="noselect" v-on:click="report_selected = result;" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.title }} </button>
                            <br />
                        </span>
                    </div>
                </div>
            </div>

            <div v-if="page == 'Submit Report'">
                
                <h2 class="page-title">NOVO RELATÓRIO</h2>
                
                <div class="left-side" style="position:absolute; top: 20%; max-height: 450px;">
                    <form class="noselect">
                        <h3>NOME</h3>
                        <h4 v-if="report_new.name" style="font-size: 14px;"> {{ report_new.name }} </h4>
                        <h4 v-else-if="report_new.name == null"> ... </h4>
                        <h3>OCORRÊNCIA</h3>
                        <input v-model="report_new.title" style="font-size: 14px;" type="text" class="noselect" placeholder="Título do Relatório" class="report-input" required>
                        <h3>DETALHES</h3>
                        <textarea v-model="report_new.incident" id="textarea2" style="font-size: 14px; border: 2px solid #04bbec; padding: 7px 15px 5px 15px;" class="noselect" rows="6" cols="55" placeholder="Descrição da Ocorrência" onkeypress='this.style.height = "";this.style.height = this.scrollHeight + "px"' required>
                        </textarea>
                        <h3>ACUSAÇÕES</h3>
                        <h4 v-if="Object.keys(report_new.charges).length == 0"> ... </h4>
                        <span v-for="(amount, offense in report_new.charges" :key="offense">
                            <h4 style="font-size: 14px;">
                                <span v-on:click="RemoveCharge(offense)" style="color: red; font-weight: all;">(-)</span> 
                                {{ offense }} (x{{ amount }})
                            </h4>
                        </span>
                        <h4 v-if="report_new.recommended_fine > 0">Total Multas: {{report_new.recommended_fine}}€</h4>
                        <h4 v-if="report_new.recommended_sentence > 0">Pena de Prisão Recomendada: {{report_new.recommended_sentence}} ano(s)</h4>
                        <h3 v-if="report_new.recommended_sentence > 0">PENA DE PRISÃO APLICADA</h3>
                        <input v-if="report_new.recommended_sentence > 0" v-model="report_new.sentence" style="font-size: 14px; margin-bottom: 5px;" type="text" class="noselect" placeholder="Anos da Pena" class="report-input" required>
                        <br />
                        <button v-if="report_new.char_id && Object.keys(report_new.charges).length > 0 && report_new.incident && report_new.title && ((report_new.recommended_sentence > 0 && report_new.sentence) || report_new.recommended_sentence == 0)" v-on:click="SubmitNewReport()" type="button" class="noselect" style="margin-top: 20px">SUBMETER OCORRÊNCIA</button>
                        <button v-if="report_new.focus == 'charges'" v-on:click="report_new.focus = 'name'" type="button" class="noselect" style="margin-top: 20px">PROCURAR NOME</button>
                        <button v-if="report_new.focus == 'name'" v-on:click="report_new.focus = 'charges'" type="button" class="noselect" style="margin-top: 20px">PROCURAR CRIMES</button>
                    </form>
                </div>

                <div class="right-side" style="position: absolute; top: 15%;">
                    <div v-if="report_new.focus == 'name'">
                        <h3 style="margin: 10px 0px">PROCURAR NOME</h3>
                        <form class="noselect">
                            <input v-model="offender_search" type="text" class="noselect" placeholder="Nome ou Nº CC" required>
                            <button v-on:click="OffenderSearch()" type="button" class="noselect">PROCURAR</button>
                        </form>

                        <div v-if="offender_results.query" style="max-height: 400px;">
                            <h3>RESULTADOS</h3>
                            <h4 style="margin: 10px 1px 30px 1px;">A procurar resultados de: '{{ offender_results.query }}'...</h4>
                            <span v-if="offender_results.results" v-for="offender in offender_results.results">
                                <button type="button" class="noselect" v-on:click="report_new.char_id = offender.id; report_new.name = offender.firstname + ' ' + offender.lastname; report_new.focus='charges'" style="margin-bottom: 10px; width: 100%; padding: unset;">{{ offender.firstname }} {{ offender.lastname }}</button>
                                <br />
                            </span>
                        </div>
                    </div>

                    <div v-else-if="report_new.focus == 'charges'">
                        <h3 style="margin: 10px 0px">PROCURAR CRIMES</h3>
                        <div v-if="offenses" style="max-height: 460px;">
                            <form class="noselect">
                                <input v-model="report_new.charges_search" type="text" class="noselect" placeholder="Crimes" style="width: 80%;" required>  
                            </form>
                            <span v-for="offense in filtered_offenses">
                                <button type="button" class="noselect" v-on:click="AddCharge(offense.id)" style="margin-bottom: 10px; width: 100%; padding: unset;">{{ offense.label }}</button>
                                <br />
                            </span>
                        </div>
                        <h4 v-else-if="offenses == false">A carregar...</h4>
                    </div>
                </div>
            </div>

            <div v-if="page == 'Search Offenders'">

                <h2 class="page-title">PROCURAR BASE DE DADOS</h2>

                <form class="noselect">
                    <input v-model="offender_search" type="text" class="noselect" placeholder="Nome ou NºCC" required>
                    <button v-on:click="OffenderSearch()" type="button" class="noselect">PROCURAR</button>
                </form>
                
                <br />

                <div class="left-side" style="max-height: 450px;">
                    <h3>NOME</h3>
                    <h4 v-if="offender_selected.firstname"> {{ offender_selected.firstname }} {{ offender_selected.lastname }} </h4>
                    <h4 v-else-if="offender_selected.name == null"> ... </h4>
                    <h3>NOTAS</h3>
                    <h4 v-if="offender_selected.notes"> {{ offender_selected.notes }} </h4>
                    <h4 v-if="offender_selected.haswarrant" style="color:rgb(255,0,0);"> {{ offender_selected.firstname}} {{offender_selected.lastname}} tem um mandado ativo! </h4>
                    <h4 v-else-if="offender_selected.notes == '' && !offender_selected.haswarrant"> ... </h4>
                    <h3>LICENÇAS</h3>
                    <h4 v-if="offender_selected.licenses == false"> ... </h4>
                    <span v-else-if="offender_selected.licenses" v-for="license in offender_selected.licenses">
                        <h4>{{ license.label }}</h4>
                    </span>
                    <h3>CADASTRO</h3>
                    <h4 v-if="offender_selected.convictions == null"> ... </h4>
                    <span v-else-if="offender_selected.convictions" v-for="(value, name) in offender_selected.convictions">
                        <h4>{{ name }} x{{ value }}</h4>
                    </span>
                    <h3>DATA DE NASCIMENTO</h3>
                    <h4 v-if="offender_selected.dateofbirth"> {{ offender_selected.dateofbirth }} </h4>
                    <h4 v-else-if="offender_selected.dateofbirth == null"> ... </h4>
                    <h3>Nº CARTÃO DE CIDADÃO</h3>
                    <h4 v-if="offender_selected.id"> {{ offender_selected.numero_cc }} </h4>
                    <h4 v-else-if="offender_selected.numero_cc == null"> ... </h4>
                    <br />
                    <button v-if="offender_selected.firstname" type="button" v-on:click="changePage('Edit Offender')" id="edit-offender" class="noselect">EDITAR PERFIL</button>
                    <button v-if="offender_selected.firstname" type="button" v-on:click="changePage('Submit Report'); report_new.char_id = offender_selected.id; report_new.name = offender_selected.firstname + ' ' + offender_selected.lastname; report_new.focus = 'charges'" id="edit-offender" class="noselect">NOVA OCORRÊNCIA</button>
                </div>

                <div class="right-side" style="max-height: 435px">
                    <div v-if="offender_results.query">
                        <h3>PROCURAR RESULTADOS</h3>
                        <h4 style="margin: 10px 1px 30px 1px;">A procurar resultados de: '{{ offender_results.query }}'...</h4>
                        <span v-if="offender_results.results" v-for="offender in offender_results.results">
                            <button type="button" class="noselect" v-on:click="OpenOffenderDetails(offender.id)" style="margin-bottom: 10px; width: 100%; padding: unset;">{{ offender.firstname }} {{ offender.lastname }}</button>
                            <br />
                        </span>
                    </div>

                    <div v-else-if="offender_results.results == false">
                        <img v-if="offender_selected.mugshot_url" v-bind:src="offender_selected.mugshot_url" alt="mugshot" id="mugshot">
                        <img v-else-if="offender_selected.mugshot_url == ''" src="mugshot.png" alt="mugshot" id="mugshot">
                    </div>
                </div>

            </div>

            <div v-if="page == 'Report Details'">
                <h2 class="page-title">DETALHES DA OCORRÊNCIA</h2>
                <br />
                <div class="left-side" style="max-width: 1000px; float: unset; margin: 0 auto; max-height: 475px;">
                    <h3>DATA</h3>
                    <h4 v-if="report_selected.date"> {{ report_selected.date }} </h4>
                    <h4 v-else-if="report_selected.date == null"> ... </h4>
                    <h3>NOME</h3>
                    <h4 v-if="report_selected.name" v-on:click="OpenOffenderDetailsById(report_selected.char_id)"> {{ report_selected.name }} </h4>
                    <h4 v-else-if="report_selected.name == null"> ... </h4>
                    <template v-if="report_edit.enable == false">
                        <h3>OCORRÊNCIA #{{report_selected.id}}</h3>
                        <h4 v-if="report_selected.title"> {{ report_selected.title }} </h4>
                        <h4 v-else-if="report_selected.title == null"> ... </h4>
                    </template>
                    <template v-else-if="report_edit.enable == true">
                        <h3>OCORRÊNCIA #{{report_selected.id}} (EDITAR)</h3>
                        <input v-model="report_edit.data.title" type="text" class="noselect" placeholder="Título do relatório" class="report-input" style="font-size: 14px;" required>
                    </template>
                    <template v-if="report_edit.enable == false">
                        <h3>DETALHES</h3>
                        <h4 v-if="report_selected.incident" style="white-space: pre-line; white-space: pre-wrap;">{{ report_selected.incident }}</h4>
                        <h4 v-else-if="report_selected.incident == null"> ... </h4>
                        <h4 v-if="report_selected.jailtime">Sentença: {{ report_selected.jailtime }} ano(s)</h4>
                    </template>
                    <template v-else-if="report_edit.enable == true">
                        <h3>DETALHES (EDITAR)</h3>
                        <form>
                            <textarea v-model="report_edit.data.incident" id="textarea" class="noselect" style="width: 95%; height: 80px; border: 2px solid #04bbec; padding: 7px 15px 5px 15px; margin: unset; font-size: 14px;" onfocus='this.style.height = "";this.style.height = this.scrollHeight + "px"' onkeypress='this.style.height = "";this.style.height = this.scrollHeight + "px"' placeholder="Enter report description" required>
                            </textarea>
                        </form>
						<h3 v-if="report_selected.jailtime">PENA APLICADA (EDITAR)</h3>
						<input v-if="report_selected.jailtime" v-model="report_edit.data.jailtime" style="font-size: 14px; margin-bottom: 5px;" type="text" class="noselect" placeholder="Anos da Pena" class="report-input" required>
                    </template>
                    <h3 v-if="report_edit.enable == false">ACUSAÇÕES</h3>
					<h3 v-if="report_edit.enable == true">ACUSAÇÕES (EDITAR)</h3>
                    <span v-if="report_edit.enable == false" v-for="(amount, offense) in report_selected.charges" :key="offense">
                        <h4>
                            {{ offense }} (x{{ amount }})
                        </h4>
                    </span>
                    <span v-if="report_edit.enable == true" v-for="(amount, offense) in report_edit.data.charges" :key="offense">
                        <h4>
							<span v-on:click="RemoveChargeEdit(offense)" style="color: red; font-weight: all;">(-)</span> 
                            {{ offense }} (x{{ amount }})
                        </h4>
                    </span>					
					
                    <h3>AGENTE RESPONSÁVEL</h3>
                    <h4 v-if="report_selected.author"> {{ report_selected.author }} </h4>
                    <h4 v-else-if="report_selected.author == null"> ... </h4>
                    <br />
                    <button type="button" v-on:click="changePage('Search Reports')" id="search-reports" class="noselect">VOLTAR</button>
                    <button v-if="report_edit.enable == false" type="button" v-on:click="SentencePlayer()" class="noselect">SENTENÇA</button>
                    <button v-if="report_edit.enable == false" type="button" v-on:click="ToggleReportEdit()" class="noselect">EDITAR</button>
                    <button v-if="report_edit.enable == false" type="button" v-on:click="DeleteSelectedReport()" class="noselect">APAGAR</button>
                    <template v-else-if="report_edit.enable">
                        <button type="button" v-if="report_edit.data.incident && report_edit.data.title" v-on:click="SaveReportEditChanges();" class="noselect">GUARDAR</button>
                        <button type="button" v-on:click="ToggleReportEdit();" class="noselect">CANCELAR</button>
                    </template>
                </div>
            </div>

            <div v-if="page == 'Edit Offender'">
                <h2 class="page-title">EDITAR PERFIL</h2>
    
                <br />
                <div class="left-side">
                    <form class="noselect">
                        <h3>NOTAS</h3>
                        <input v-model="offender_changes.notes" class="no-select" type="text" v-bind:placeholder="offender_selected.notes">
                        <h3 style="margin-top: 20px">URL FOTO</h3>
                        <input v-model="offender_changes.mugshot_url" class="noselect" type="text" v-bind:placeholder="offender_selected.mugshot_url">
                        <h3 style="margin-top: 20px">LICENÇAS</h3>
                        <h4 v-if="offender_changes.licenses == false"> ... </h4>
                        <span v-else-if="offender_changes.licenses" v-for="license in offender_changes.licenses">
                            <h4>
                                <span v-on:click="RemoveLicense(license)" style="color: red; font-weight: all;">(-)</span> 
                                {{ license.label }}
                            </h4>
                        </span>
                        <br />
                        <button type="button" class="noselect" v-on:click="SaveOffenderChanges()" style="margin-top: 20px">GUARDAR ALTERAÇÕES</button>
                    </form>
                </div>
                <div class="right-side">
                    <h3>CADASTRO</h3>
                    <h4 v-if="offender_changes.convictions == null || (offender_changes.convictions && Object.keys(offender_changes.convictions).length == 0)"> ... </h4>
                    <span v-else-if="offender_changes.convictions" v-for="(value, name) in offender_changes.convictions">
                        <h4>
                            <span v-on:click="RemoveConviction(name)" style="color: red; font-weight: all;">(-)</span> 
                            {{ name }} x{{ value }}
                        </h4>
                    </span>
                    <br />
                    <button type="button" class="noselect" v-on:click="changePage('Search Offenders')">VOLTAR</button>
                </div>
            </div>

            <div v-if="page == 'Warrants'">
                <h2 class="page-title">MANDADOS ATIVOS</h2>
                <form class="noselect">
                    <input v-model="warrant_search" type="text" class="noselect" placeholder="Filtrar Mandados" required>
                </form>
                <br />

                <div style="max-width: 1000px; width: 1000px; float: unset; margin: 0 auto;">
                    <table v-if="filtered_warrants.length > 0" style="margin: 0 auto;">
                        <tr>
                            <th>Nome</th>
                            <th>Ocorrência</th>
                            <th>Data de Emissão</th>
                            <th style="column-width: 140px;">Expira em</th>
                        </tr>
                        <tr v-for="warrant in filtered_warrants" v-on:click="changePage('Warrant Details'); warrant_selected = warrant;">
                            <td>{{warrant.name}}</td>
                            <td style="overflow: hidden; text-overflow: ellipsis; max-width: 500px; max-height: 10px;">{{warrant.report_title}}</td>
                            <td>{{warrant.date}}</td>
                            <td style="padding: 5px;">{{warrant.expire_time}}</td>
                        </tr>
                    </table>
                    <h4 v-else-if="filtered_warrants.length == 0" style="text-align: center; font-size: 20px; font-weight: bold;"><br />Nenhum mandado encontrado!</h4>
                    <div style="bottom: 0%">
                        <button v-on:click="changePage('Submit Warrant')" type="button" class="noselect" style="margin-top: 30px;">NOVO MANDADO</button>
                    </div>
                </div>
            </div>

            <div v-if="page == 'Search Vehicles'">
                <h2 class="page-title">PROCURAR BASE DE DADOS</h2>

                <form class="noselect">
                    <input v-model="vehicle_search" type="text" class="noselect" placeholder="Matrícula Viatura" required>
                    <button v-on:click="VehicleSearch()" type="button" class="noselect">PROCURAR</button>
                </form>
                
                <br />

                <div class="left-side">
                    <h3>MATRÍCULA</h3>
                    <h4 v-if="vehicle_selected.plate"> {{vehicle_selected.plate}} </h4>
                    <h4 v-else-if="vehicle_selected.plate == null"> ... </h4>
                    <h3>TIPO</h3>
                    <h4 v-if="vehicle_selected.type"> {{vehicle_selected.type}} </h4>
                    <h4 v-else-if="vehicle_selected.type == null"> ... </h4>
                    <h3>DONO</h3>
                    <h4 v-if="vehicle_selected.owner" v-on:click="OpenOffenderDetailsById(vehicle_selected.owner_id)"> {{vehicle_selected.owner}} </h4>
                    <h4 v-else-if="vehicle_selected.owner == null"> ... </h4>
                    <h3>SEGURO</h3>
                    <h4 v-if="vehicle_selected.insurance !== 'none'"> Válido </h4>
                    <h4 v-else-if="vehicle_selected.insurance === 'none'"> Não </h4>
					<h4 v-else-if="vehicle_selected.insurance === null"> ... </h4>
                    <h3>COR</h3>
                    <h4 v-if="vehicle_selected.color"> {{vehicle_selected.color}} </h4>
                    <h4 v-else-if="vehicle_selected.color == null"> ... </h4>
                </div>

                <div class="right-side" style="max-height: 435px">
                    <div v-if="vehicle_results.results">
                        <h3>PROCURAR RESULTADOS</h3>
                        <h4 style="margin: 10px 1px 30px 1px;">Procurando resuldados de: '{{ vehicle_results.query }}'...</h4>
                        <span v-if="vehicle_results.results" v-for="result in vehicle_results.results">
                            <button type="button" class="noselect" v-on:click="OpenVehicleDetails(result)" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.plate }} </button>
                            <br />
                        </span>
                    </div>
                </div>
            </div>

            <div v-if="page == 'Submit Warrant'">
                <h2 class="page-title">NOVO MANDADO</h2>

                <div class="left-side" style="position: absolute; float: none; top: 15%; max-height: 450px;">
                    <form class="noselect">
                        <h3>OCORRÊNCIA</h3>
                        <h4 v-if="warrant_new.report_title" style="font-size: 14px;"> {{ warrant_new.report_title }} </h4>
                        <h4 v-else-if="warrant_new.report_title == null"> ... </h4>
                        <h3>NOME</h3>
                        <h4 v-if="warrant_new.name" style="font-size: 14px;"> {{ warrant_new.name }} </h4>
                        <h4 v-else-if="warrant_new.name == null"> ... </h4>
                        <h3>NOTAS</h3>
                        <input v-model="warrant_new.notes" style="font-size: 14px; width: 400px;" type="text" class="noselect" placeholder="Notas do Mandado" class="report-input" required>
                        <h3>ACUSAÇÕES</h3>
                        <h4 v-if="Object.keys(warrant_new.charges).length == 0"> ... </h4>
                        <span v-else-if="Object.keys(warrant_new.charges).length > 0" v-for="(amount, offense in warrant_new.charges" :key="offense">
                            <h4 style="font-size: 14px;">
                                {{ offense }} (x{{ amount }})
                            </h4>
                        </span>
                        <button v-if="warrant_new.report_id && warrant_new.char_id" v-on:click="SubmitNewWarrant()" type="button" class="noselect" style="margin-top: 20px">EMITIR MANDADO</button>
                    </form>
                </div>

                <div class="right-side" style="max-height: 450px;">
                    <h3 v-if="report_results.results">PROCURAR RESULTADOS</h3>
                    <h3 v-else-if="report_results.query == ''">PROCURAR OCORRÊNCIA</h3>
                    <br />
                    <form class="noselect">
                        <input v-model="warrant_new.report_search" type="text" class="noselect" placeholder="Nome ou ID da Ocorrência" required>
                        <button v-on:click="WarrantReportSearch()" type="button" class="noselect" >PESQUISAR</button>
                    </form>
                    <div v-if="report_results.results">
                        <h4 style="margin: 10px 1px 30px 1px;">Procurando resultados de: '{{ warrant_new.report_search }}'...</h4>
                        <span v-if="report_results.results" v-for="result in report_results.results">
                            <h4 style="font-size: 12px; margin-bottom: 3px;"> {{ result.date }} - ID: {{ result.id }} </h4>
                            <button type="button" class="noselect" v-on:click="warrant_new.report_title = result.title; warrant_new.name = result.name; warrant_new.charges = result.charges; warrant_new.report_id = result.id; warrant_new.char_id = result.char_id;" style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.title }} </button>
                            <br />
                        </span>
                    </div>
                </div>
            </div>

            <div v-if="page == 'Warrant Details'">
                <h2 class="page-title">DETALHES DO MANDADO</h2>
                <br />
                <div class="left-side" style="max-width: 1000px; float: unset; margin: 0 auto;">
                    <h3>DATA</h3>
                    <h4 v-if="warrant_selected.date"> {{ warrant_selected.date }} </h4>
                    <h4 v-else-if="warrant_selected.date == null"> ... </h4>
                    <h3>NOME</h3>
                    <h4 v-if="warrant_selected.name" v-on:click="OpenOffenderDetailsById(warrant_selected.char_id)"> {{ warrant_selected.name }} </h4>
                    <h4 v-else-if="warrant_selected.name == null"> ... </h4>
                    <h3>OCORRÊNCIA</h3>
                    <h4 v-if="warrant_selected.report_title" v-on:click="OpenReportById(warrant_selected.report_id)"> {{ warrant_selected.report_title }} </h4>
                    <h4 v-else-if="warrant_selected.report_title == null"> ... </h4>
                    <h3>NOTAS</h3>
                    <h4 v-if="warrant_selected.notes"> {{ warrant_selected.notes }} </h4>
                    <h4 v-else-if="warrant_selected.notes == null"> ... </h4>
                    <h3>ACUSAÇÕES</h3>
                    <span v-for="(amount, offense) in warrant_selected.charges" :key="offense">
                        <h4>
                            {{ offense }} (x{{ amount }})
                        </h4>
                    </span>
                    <h3>AGENTE RESPONSÁVEL</h3>
                    <h4 v-if="warrant_selected.author"> {{ warrant_selected.author }} </h4>
                    <h4 v-else-if="warrant_selected.author == null"> ... </h4>
                    <h3>EXPIRA EM</h3>
                    <h4 v-if="warrant_selected.expire_time"> {{ warrant_selected.expire_time }} </h4>
                    <h4 v-else-if="warrant_selected.expire_time == null"> ... </h4>
                    <br />
                    <button type="button" v-on:click="changePage('Warrants')" id="warrants" class="noselect">VOLTAR</button>
                    <button type="button" v-on:click="DeleteSelectedWarrant()" class="noselect">APAGAR</button>
                </div>
            </div>
        </main>
        
        <p class="noselect" style="font-family: 'Courier New'; font-style: normal; font-size: 12pt; position: fixed; bottom: 1%; right: 5.5%; direction: rtl;">SIIP v2.32</p>
        <div class="line" style="bottom: 10%"></div>
    </div> 


    <script src="vue.min.js"></script>
    <script
        src = "https://code.jquery.com/jquery-3.3.1.min.js"
        integrity = "sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin = "anonymous">
    </script>
    <script src="script.js"></script>
</body>
</html>
